
<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width">
  <title>getUserMedia-Demo</title>
</head>
<body>
  <div>
    <video id="v" style="background-color: #000" autoplay></video>
  </div>
  <button id="s">start</button>
<script id="jsbin-javascript">
if (typeof navigator.mediaDevices.getUserMedia !== 'function') {
  const err = new Error('getUserMedia()が利用できないブラウザです！');
  alert(`${err.name} ${err.message}`);
  throw err;
}

const $start = document.getElementById('s');
const $video = document.getElementById('v');

$start.addEventListener('click', () => {
  navigator.mediaDevices.getUserMedia({ video: true, audio: false })
    .then(stream => $video.srcObject = stream)
    .catch(err => alert(`${err.name} ${err.message}`));
}, false);
</script>
</body>
</html>
